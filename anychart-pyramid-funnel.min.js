/**
 * AnyChart is lightweight robust charting library with great API and Docs, that works with your stack and has tons of chart types and features.
 *
 * Modules: pyramid-funnel, theme-pyramid-funnel
 * Version: 7.14.3.1561 (2017-09-22)
 * License: http://www.anychart.com/buy/
 * Contact: sales@anychart.com
 * Copyright: AnyChart.com 2017. All rights reserved.
 */
(function(global,factory){if(typeof module==='object'&&typeof module.exports==='object'){var wrapper=function(w){if(!w.document){throw Error('AnyChart requires a window with a document');}factory.call(w,w,w.document);w.acgraph.isNodeJS=true;return w.anychart;};module.exports=global.document?wrapper(global):wrapper;}else{factory.call(global,window,document)}})(typeof window!=='undefined'?window:this,function(window,document,opt_noGlobal){var $,_,$_=this.anychart;if($_&&(_=$_._)){$=$_.$}else{throw Error('anychart-base.min.js module should be included first');$={};_={}}if(!_.pyramid_funnel){_.pyramid_funnel=1;(function($){var eR=function(a,b,c){$.$v.call(this,null,[],[],b,c);this.za=a},gR=function(a,b,c){$.$v.call(this,null,[],[],b,c);this.za=a;this.K=!fR(this.za);this.o=this.za.O("connectorStroke")},hR=function(a,b){$.Nu.call(this);$.V(this);this.sa=this.ra=this.ma=this.aa=null;this.Vb=[];this.B=this.na=null;this.Kc=1;this.jb=this.F=null;this.state=new $.ru(this);this.data(a||null,b);$.Cp(this.U,[["baseWidth",16,1],["neckHeight",16,1],["neckWidth",16,1],["pointsPadding",16,1],["reversed",16,1],["overlapMode",4096,
1],["connectorLength",4100,9],["connectorStroke",16,1],["fill",528,1],["hoverFill",16,1],["selectFill",16,1],["stroke",528,1],["hoverStroke",16,1],["selectStroke",16,1],["hatchFill",528,1],["hoverHatchFill",0,0],["selectHatchFill",0,0]]);this.la(!1)},iR=function(a,b){var c=a.ja().G("point");if($.n(c)){var d=$.mm(["fill","hoverFill","selectFill"],1)(a,b,!1,!0);c.fill(d);d=$.mm(["stroke","hoverStroke","selectStroke"],2)(a,b,!1,!0);c.stroke(d)}},jR=function(a,b,c){if(a.F instanceof b)c&&a.F.W(c);else{var d=
!!a.F;$.J(a.F);a.F=new b;c&&a.F.W(c);$.T(a.F,a.A3,a);$.K(a,a.F);d&&a.D(528,1)}},kR=function(a,b){var c=a.ja().G("hatchPoint");if(c){var d=$.mm(["hatchFill","hoverHatchFill","selectHatchFill"],3);c.stroke(null).fill(d(a,b,!1))}},lR=function(a,b){var c=a.Dc,d=a.ib.height,e=a.qe,f=a.Nd;return b>d-f||d==f?e:e+(d-f-b)/(d-f)*(c-e)},mR=function(a){a=$.R(a);return 0>=a||!(0,window.isFinite)(a)},nR=function(a){var b=a.ja(),c=b.ua(),d=a.ib,e,f,h,k,l,m;e=b.G("height")/2;k=b.G("startY");l=b.G("height")+k;m=null;
if(f=a.zd)c?c==b.Db()-1?(k+=f/2,k>l&&(k=l-a.Kc)):(k+=f/2,l-=f/2,k>l&&(k=b.G("startY")+e,l=k+a.Kc)):(l-=f/2,l<k&&(l=a.Kc));h=lR(a,k);c=a.b-h/2;e=c+h;h=lR(a,l);f=a.b-h/2;h=f+h;k+=d.top;l+=d.top;c=d.left+c;e=d.left+e;0<a.Nd&&k<a.hd&&l>a.hd&&(m=l,l=a.hd,h=lR(a,l),f=a.b-h/2,h=f+h);f=d.left+f;h=d.left+h;a.O("reversed")||(k=d.height-(k-d.top)+d.top,l=d.height-(l-d.top)+d.top,m=m?d.height-(m-d.top)+d.top:null,k=[l,l=k][0],c=[f,f=c][0],e=[h,h=e][0]);b.G("x1",c);b.G("x2",e);b.G("x3",f);b.G("x4",h);b.G("y1",
k);b.G("y2",l);b.G("y3",m)},oR=function(a,b,c,d){var e=a.labels();$.V(e);e.fontOpacity(b);e.ca();e.la(!1);if(d&&a.g)for(var f in a.g)a.g.hasOwnProperty(f)&&a.g[f].stroke($.fm(a.O("connectorStroke"),c))},Uda=function(a){var b=a.ja(),c=b.ua(),d=$.Ly(a.Ea),e=$.Ly(a.Oa);b.G("point",d);b.G("hatchPoint",e);nR(a);var f=b.G("x1"),h=b.G("x2"),k=b.G("x3"),l=b.G("x4"),m=b.G("y1"),p=b.G("y2"),q=b.G("y3");d.moveTo(f,m).lineTo(h,m);q?d.lineTo(l,p).lineTo(l,q).lineTo(k,q).lineTo(k,p):d.lineTo(l,p).lineTo(k,p);d.close();
b.G("point",d);d.tag={index:c,ga:a};b=$.wu(a.state,b.ua());iR(a,b);e&&(e.kd(d.N()),e.tag={index:c,ga:a},kR(a,b))},sR=function(a,b){var c=a.ja(),d=!!(b&$.nm),e=!d&&!!(b&$.M),f=c.get("label"),h=e?c.get("hoverLabel"):null,k=d?c.get("selectLabel"):null,l=c.ua(),m,p=null;d?p=m=a.dc():e?p=m=a.Sb():m=a.labels();var q=a.labels().Wd(l),r=f&&$.n(f.enabled)?f.enabled:null,t=h&&$.n(h.enabled)?h.enabled:null,u=k&&$.n(k.enabled)?k.enabled:null,r=e||d?e?null===t?null===a.Sb().enabled()?null===r?a.labels().enabled():
r:a.Sb().enabled():t:null===u?null===a.dc().enabled()?null===r?a.labels().enabled():r:a.dc().enabled():u:null===r?a.labels().enabled():r,u=pR(a,null,b),v=qR(a),t=fR(a),w=!0;if(!e&&!d&&t&&"no-overlap"==a.O("overlapMode")){m=m.ki(v,u,f,l);var w=a.ja(),x=[w.G("x1"),w.G("y1"),w.G("x2"),w.G("y1"),w.G("x4"),w.G("y2"),w.G("x3"),w.G("y2")],A=!0,E,O,Q,P,aa,Z,da,ca,qa,Qa;E=0;for(O=x.length;E<O-1;E+=2)Q=E==O-2?0:E+2,P=E==O-2?1:E+3,aa=x[E],Z=x[E+1],da=x[Q],ca=x[P],qa=m[E],Qa=m[E+1],Q=m[Q],P=m[P],w.G("y3")&&4==
E&&(Z=$.R(w.G("y3")),ca=$.R(w.G("y3"))),aa==da&&(da+=.01),A=(A=A&&1==$.gn(aa,Z,da,ca,qa,Qa))&&1==$.gn(aa,Z,da,ca,Q,P);w=A}r&&w?(q?(q.jg(),q.De(v),q.qc(u)):q=a.labels().add(v,u,l),$.cv(q,p),q.uc(f,e?h:k),c.G("labelWidthForced")&&(q.width($.R(c.G("labelWidthForced"))),c=h&&h.anchor?h.anchor:null,k=k&&k.anchor?k.anchor:null,f&&f.anchor&&f.anchor||c||k||(u=pR(a,q,b),q.qc(u))),q.ca(),(e||d)&&!q.Y()&&a.labels().ef()&&(q.Y(a.labels().ef()),q.Y().parent()||q.Y().parent(a.labels().Y()),q.ca())):q&&q.clear();
r&&!t&&rR(a,q,b)},pR=function(a,b,c){var d=tR(a),e=a.ja(),f=a.ib,h=$.n(c)?!!(c&$.nm):null,k=$.n(c)?!h&&!!(c&$.M):null,l=e.get("label"),k=k?e.get("hoverLabel"):null,h=(h?e.get("hoverLabel"):null)||k||l||{},k=$.R(e.G("x1")),m=$.R(e.G("x2")),p=$.R(e.G("y1")),l=$.R(e.G("y2")),q=$.R(e.G("y3")),e=m-k,l=q?q-p:l-p,p=p+l/2,m=$.R(h.offsetY)||0;b?c=uR(a,b,c):(c=a.sa.ki(qR(a),null,h),c=$.kn(c));h=b&&b.O("anchor")||a.labels().O("anchor");b&&(p=b.qc().value.y);b=p+m;c.height>l&&("left-center"==h||"center"==h||
"right-center"==h)&&(p+c.height/2>f.top+f.height&&(p=f.top+f.height-c.height/2),p-c.height/2<f.top&&(p=f.top+c.height/2));b=vR(a,b);switch(d){case "inside":k+=e/2;break;case "outside-left":k=a.b-b/2;k=f.left+k-a.J-c.width/2;break;case "outside-left-in-column":k=f.left+c.width/2;break;case "outside-right":k=a.b+b/2;k=f.left+k+a.J+c.width/2;break;case "outside-right-in-column":k=f.left+f.width-c.width/2}if("left-top"==h||"center-top"==h||"right-top"==h)p-=.5;else if("left-bottom"==h||"center-bottom"==
h||"right-bottom"==h)p+=.5;return{value:{x:k,y:p}}},uR=function(a,b,c){var d=!!(c&$.nm),e=!d&&!!(c&$.M);c=a.data().get(b.ua(),"label");e=e?a.data().get(b.ua(),"hoverLabel"):null;d=(d?a.data().get(b.ua(),"selectLabel"):null)||e||c||{};a.data().G(b.ua(),"labelWidthForced")&&(d=$.Pc(d),d.width=b.width());a.ja().select(b.ua());b.De(qR(a));a=a.sa.ki(b.De(),b.qc(),d);return $.kn(a)},yR=function(a,b){if("no-overlap"==a.O("overlapMode")&&!fR(a)&&a.labels().enabled()){wR(a);a.Td=0;var c=a.state.Hg()|(b?$.wu(a.state,
b.ua()):0);xR(a,c,b)}},xR=function(a,b,c){if(10!=a.Td){for(var d=a.ja().Db(),e=!1,f,h,k,l,m=a.O("reversed"),p=0;p<d-1;p++)if(f=m?p:d-1-p,(f=a.labels().Wd(f))&&0!=f.enabled()&&(h=uR(a,f,b),k=m?Vda(a,f):Wda(a,f))){l=uR(a,k,b);var q=zR(a,f),r=zR(a,k);q&&r&&q==r||!(l.top<=h.top+h.height)||(e=!0,q&&r?Xda(a,q,r):!q&&r?AR(a,k,f):AR(a,f,k))}e&&((0,$.Je)(a.Vb,function(a){if(2>a.labels.length){var b=a.za;b.Vb.length&&(a.clear(),$.hb(b.Vb,a))}else{for(var d,e,f=0,h=0,k=b=0,l=a.labels.length;k<l;k++)d=a.labels[k],
e=a.za.state.Hg()|$.wu(a.za.state,d.ua()),e=BR(a,d,e),d=a.za.data().G(d.ua(),"point"),d=d.xb(),k||(f=d.top),b+=e.height,h+=d.height;h+=a.za.zd*(l-1);f=f+h/2-b/2;h=a.za.ib;f+b>h.top+h.height&&(f=h.top+h.height-b);f<h.top&&(f=h.top);a.y=f;Yda(a,c)}}),a.Td++,xR(a,b,c))}},Vda=function(a,b){if(!b)return null;var c=a.ja().Db();if(b.ua()==c-1)return null;for(var d,e=b.ua()+1;e<=c-1;e++)if((d=a.labels().Wd(e))&&!1!==d.enabled())return d;return null},Wda=function(a,b){if(!b||!b.ua())return null;for(var c,
d=b.ua()-1;0<=d;d--)if((c=a.labels().Wd(d))&&!1!==c.enabled())return c;return null},AR=function(a,b,c){var d=zR(a,b);d?CR(d,c):(d=new DR(a),CR(d,b),CR(d,c),a.Vb.push(d))},zR=function(a,b){return a.Vb.length?$.ab(a.Vb,function(a){return-1!==(0,$.bb)(a.labels,b)}):null},Xda=function(a,b,c){var d=b.labels[0].ua(),e=c.labels[0].ua();b.labels=a.O("reversed")==d<e?$.ib(b.labels,c.labels):$.ib(c.labels,b.labels);$.hb(a.Vb,c)},wR=function(a){a.Vb.length&&((0,$.Je)(a.Vb,function(a){a.clear()}),a.Vb.length=
0)},fR=function(a){return"inside"==tR(a)},ER=function(a){a=tR(a);return"outside-right-in-column"==a||"outside-left-in-column"==a},FR=function(a){a=tR(a);return"outside-left"==a||"outside-left-in-column"==a},GR=function(a){a=tR(a);return"outside-right"==a||"outside-right-in-column"==a},Zda=function(a){if(a.labels().enabled()&&!fR(a)){nR(a);var b=a.ja();b.G("labelWidthForced",void 0);var c=a.ib,d,e=b.get("label"),f=pR(a),h=qR(a),h=a.labels().ki(h,f,e),h=$.kn(h),e=h.left,f=h.left+h.width,k,h=a.O("reversed")?
lR(a,h.top-c.top):lR(a,c.height-(h.top+h.height)+c.top);if(FR(a))d=a.b-h/2,d=c.left+d,k=a.Dc/2,k=c.width-a.b-k,ER(a)?f+5>d&&(d=f+5-d,d>k?(a.b+=k,d=a.b-h/2,d=c.left+d,b.G("labelWidthForced",d-5-e)):a.b+=d):e<c.left&&(d=Math.abs(c.left-e),d>k?(a.b+=k,d=a.b-h/2,a=d-a.J,10>a&&(a=10),b.G("labelWidthForced",a)):a.b+=d);else if(GR(a))if(d=a.b+h/2,d+=c.left,k=a.Dc/2,k=c.width-(c.width-a.b)-k,ER(a)){if(0>e||e-5<d)d=Math.abs(d-e+5),0>e||d>k?(a.b=a.b-k,d=a.b+h/2,d+=c.left,b.G("labelWidthForced",f-5-d)):a.b=
a.b-d}else f>c.left+c.width&&(d=f-(c.left+c.width),d>k?(a.b=a.b-k,a=c.left+c.width-e+k,10>a&&(a=10),b.G("labelWidthForced",a)):a.b=a.b-d)}},tR=function(a){a=a.labels().O("position");return $.pk($da,"outside"==a?"outside-left":a,"outside-left-in-column")},HR=function(a,b,c,d){var e=a.ib,f=b.ua(),f=a.data().G(f,"point").xb();b=uR(a,b,d);d=b.left;var h=b.top+b.height/2,k,f=f.top+f.height/2,l=vR(a,f);FR(a)?(d+=b.width,k=a.b-l/2,k+=e.left,d>k&&5>Math.abs(f-h)&&(d=k-5)):GR(a)&&(k=a.b+l/2,k+=e.left,d<k&&
5>Math.abs(f-h)&&(d=k+5));c.clear().moveTo(d,h).lineTo(k,f+.001)},rR=function(a,b,c){var d=b.ua();if(a.g[d])HR(a,b,a.g[d],c);else{var e=$.Ly(a.Ya);a.g[d]=e;e.stroke(a.O("connectorStroke"));HR(a,b,e,c)}},IR=function(a){a=$.mm(["fill"],1)(a,$.om,!0,!0);return $.fm(a,1,!0)},aea=function(a,b){b=$.Bk(b);var c=a.ib,d=a.ja(),e=d.G("point").xb(),f=d.G("x1"),h=d.G("y1");switch(b){case "left-top":h=d.G("y1");f=d.G("x1");break;case "left-center":h+=e.height/2;d=vR(a,h);f=a.b-d/2;f+=c.left;break;case "left-bottom":h+=
e.height;f=d.G("x3");break;case "center-top":f=a.b;f+=c.left;break;case "center":h+=e.height/2;vR(a,h);f=a.b;f+=c.left;break;case "center-bottom":h+=e.height;vR(a,h);f=a.b;f+=c.left;break;case "right-top":d=vR(a,h);f+=d;break;case "right-center":h+=e.height/2;d=vR(a,h);f=a.b+d/2;f+=c.left;break;case "right-bottom":f=d.G("x4"),h+=e.height}return{value:{x:f,y:h}}},vR=function(a,b){var c=a.ib;return a.O("reversed")?lR(a,b-c.top):lR(a,c.height-b+c.top)},JR=function(a){var b=a.Bb();a.rc("mousemove",a.vC);
b.dd()},qR=function(a){var b=a.ja();a.ha||(a.ha=new $.Kt);a.ha.Ah(b).qh([a.Xd(b.ua()),a]);b={x:{value:b.get("x"),type:"string"},value:{value:b.get("value"),type:"number"},name:{value:b.get("name"),type:"string"},index:{value:b.ua(),type:"number"},chart:{value:a,type:""}};$.zt(a.ha,b);return a.ha},DR=function(a){this.za=a;this.labels=[]},CR=function(a,b){a.labels.push(b);a.za.O("reversed")?$.ub(a.labels,function(a,b){return a.ua()-b.ua()}):$.ub(a.labels,function(a,b){return b.ua()-a.ua()})},Yda=function(a,
b){var c=0,d=0,e=null,f=null,h=null,k=a.za.state.Hg()|(b?$.wu(a.za.state,b.ua()):0);(0,$.Je)(a.labels,function(b){var l=b.qc().value,p=BR(a,b,k),q=a.y+c+d+p.height/2;if(e&&f&&h){var r=h.y+f.height/2+(e.O("offsetY")||0),t=q-p.height/2+(b.O("offsetY")||0);t<r&&(q+=r-t)}b.qc({value:{x:l.x,y:q}});b.ca();rR(a.za,b,k);c+=p.height;d+=b.O("offsetY")||0;e=b;f=p;h={x:l.x,y:q}})},BR=function(a,b,c){var d=!!(c&$.nm),e=!d&&!!(c&$.M);c=a.za.data().get(b.ua(),"label");e=e?a.za.data().get(b.ua(),"hoverLabel"):null;
d=(d?a.za.data().get(b.ua(),"selectLabel"):null)||e||c||{};a.za.data().G(b.ua(),"labelWidthForced")&&(d=$.Pc(d),d.width=b.width());a.za.ja().select(b.ua());b.De(qR(a.za));a=a.za.sa.ki(b.De(),b.qc(),d);return $.kn(a)},KR=function(a,b){var c=new hR(a,b);c.P="funnel";c.Aa(!0,$.um("funnel"));return c},LR=function(a,b){var c=new hR(a,b);c.P="pyramid";c.Aa(!0,$.um("pyramid"));return c},$da={YG:"inside",Jga:"outside-left",Kga:"outside-left-in-column",Lga:"outside-right",Mga:"outside-right-in-column"};
$.G(eR,$.$v);$.g=eR.prototype;$.g.update=function(){this.g.length=this.j.length=0;for(var a=this.za.Qf();a.advance();)if(!a.G("missing")){var b=a.G("x1"),c=a.G("x2"),d=a.G("x3"),e=a.G("x4"),f=a.G("y1"),h=a.G("y2"),k=a.G("y3");a.G("neck",!!k);this.g.push(b,c,d,e,0,0,0);this.j.push(b,c,d,e,f,h,k?k:0)}};$.g.kl=function(){oR(this.za,1E-5,1E-5,!fR(this.za))};
$.g.mi=function(){for(var a=this.za.Qf(),b=0;a.advance();)if(!a.G("missing")){a.G("x1",this.b[b++]);a.G("x2",this.b[b++]);a.G("x3",this.b[b++]);a.G("x4",this.b[b++]);a.G("y1",this.b[b++]);a.G("y2",this.b[b++]);a.G("y3",this.b[b++]);var c=this.za,d=a,e=d.G("point");e.clear();var f=d.G("x1"),h=d.G("x2"),k=d.G("x3"),l=d.G("x4"),m=d.G("y1"),p=d.G("y2"),q=d.G("y3");e.moveTo(f,m).lineTo(h,m);d.G("neck")?e.lineTo(l,p).lineTo(l,q).lineTo(k,q).lineTo(k,p):e.lineTo(l,p).lineTo(k,p);e.close();if(f=d.G("hatchPoint"))c.ja().select(d.ua()),
f.clear(),f.kd(e.N()),d=$.wu(c.state,d.ua()),e=$.mm(["hatchFill","hoverHatchFill","selectHatchFill"],3),f.stroke(null).fill(e(c,d,!1))}};$.g.Kg=function(){this.mi()};$.g.ba=function(){eR.I.ba.call(this);this.za=null};$.G(gR,$.$v);gR.prototype.update=function(){this.g.length=this.j.length=0;this.g.push(1E-5,1E-5);this.j.push(1,this.o.opacity||1)};gR.prototype.mi=function(){oR(this.za,this.b[0],this.b[1],this.K)};gR.prototype.Kg=function(){this.mi()};gR.prototype.ba=function(){gR.I.ba.call(this);this.o=this.za=null;delete this.K};$.G(hR,$.Nu);$.g=hR.prototype;$.g.ya=$.Nu.prototype.ya|16;$.g.wa=$.Nu.prototype.wa|28688;$.g.Pd=function(){return[this]};$.g.Rf=function(){return!0};$.g.Tg=function(){return!1};$.g.Sg=function(){return!0};
$.g.data=function(a,b){if($.n(a)){if(a){var c=a.title||a.caption;c&&this.title(c);a.rows&&(a=a.rows)}if(this.mb!==a){this.mb=a;if(this.jb!=a||null===a)$.J(this.ea),delete this.Ma,a instanceof $.wq?(c=a,this.ea=null):(c=a instanceof $.Gq?(this.ea=a).Ue():$.y(a)||$.B(a)?(this.ea=new $.Gq(a,b)).Ue():(this.ea=new $.Gq(null)).Ue(),$.K(this,this.ea)),this.jb=c.lk();$.J(this.Kb);this.Kb=this.jb;$.T(this.Kb,this.u3,this);$.K(this,this.Kb);this.D(29456,17)}return this}return this.Kb};
$.g.u3=function(a){$.W(a,16)&&this.D(29456,17)};$.g.ja=function(){return this.Ma||(this.Ma=this.Kb.ja())};$.g.hc=function(){return this.Ma=this.Kb.ja()};$.g.Qf=function(){return this.Kb.ja()};$.g.Oc=function(a){if(a instanceof $.Ar)return jR(this,$.Ar,a),this;if(a instanceof $.wr)return jR(this,$.wr,a),this;$.z(a)&&"range"==a.type?jR(this,$.Ar):!$.z(a)&&this.F||jR(this,$.wr);return $.n(a)?(this.F.W(a),this):this.F};
$.g.uC=function(a){this.na||(this.na=new $.yr,$.T(this.na,this.x3,this),$.K(this,this.na));return $.n(a)?(this.na.W(a),this):this.na};$.g.tC=function(a){this.aa||(this.aa=new $.xr,$.T(this.aa,this.v3,this),$.K(this,this.aa));return $.n(a)?(this.aa.W(a),this):this.aa};$.g.A3=function(a){$.W(a,2)&&this.D(528,1)};$.g.x3=function(a){$.W(a,2)&&this.D(528,1)};$.g.v3=function(a){$.W(a,2)&&this.D(528,1)};
$.g.fill=function(a,b,c,d,e,f,h){if($.n(a)){var k=$.D(a)?a:$.uc.apply(null,arguments);k!=this.K&&(this.K=k,this.D(528,1));return this}return this.K};$.g.remove=function(){this.Fb().Y(null);this.labels().Y(null);wR(this);this.Ea&&this.Ea.parent(null);hR.I.remove.call(this)};
$.g.Zh=function(a){if(!$.pq(this)){this.wc();var b=this.ja();$.U(this,4)&&this.D(4112);if($.U(this,16)){this.Ea?this.Ea.clear():(this.Ea=new $.Ky(function(){return $.jk()},function(a){a.clear()}),$.K(this,this.Ea),this.Ea.zIndex(30),this.Ea.parent(this.Qa));this.Oa?this.Oa.clear():(this.Oa=new $.Ky(function(){return $.jk()},function(a){a.clear()}),$.K(this,this.Oa),this.Oa.parent(this.Qa),this.Oa.zIndex(31).Yc(!0));this.F&&this.F instanceof $.Ar&&this.F.count(b.Db());this.zd=Math.abs($.Ym($.N(this.O("pointsPadding"),
a.height),2));this.Dc=Math.abs($.Ym($.N(this.O("baseWidth"),a.width),2));this.qe=Math.abs($.Ym($.N(this.O("neckWidth"),a.width),2));this.Nd=Math.abs($.Ym($.N(this.O("neckHeight"),a.height),2));this.hd=a.top+a.height-this.Nd;this.b=a.width/2;this.J=$.N(this.O("connectorLength"),(a.width-this.Dc)/2);0>this.J&&(this.J=5);this.ib=a;var c=0,d,e,f=b.Db()-$.R(this.Da("count")),h=$.Ym(this.zd/a.height*100,2);for(b.reset();b.advance();){d=b.get("value");e=mR(d);d=mR(d)?0:$.R(d);var k=$.Ym(d/$.R(this.Da("sum"))*
100,2);e&&(k=h);k=$.Ym(a.height/(100+f*h)*k,2);k||(k=this.Kc);b.G("value",d);b.G("height",k);b.G("startY",c);b.G("missing",e);c+=k;Zda(this)}for(b.reset();b.advance();)c=b.ua(),b.get("selected")&&this.state.U($.nm,c),Uda(this);if(this.g)for(var l in this.g)this.g.hasOwnProperty(l)&&this.g[l].stroke(this.O("connectorStroke"));this.D(4096);this.D(8192);this.R(16)}if($.U(this,8192)){this.Fb().Y()||this.B.Y(this.Qa);this.Fb().clear();for(b.reset();b.advance();)this.Uo(this.state.j|$.wu(this.state,b.ua()));
this.Fb().ca();this.R(8192)}if($.U(this,4096)){this.labels().Y()||this.sa.Y(this.Qa);this.labels().clear();this.Ya&&this.Ya.clear();l=fR(this)?$.um("pie.insideLabels"):$.um("pie.outsideLabels");this.labels().pl(l.autoColor);this.labels().disablePointerEvents(l.disablePointerEvents);fR(this)||(this.J=$.N(this.O("connectorLength"),(a.width-this.Dc)/2),0>this.J&&(this.J=5),this.Ya?this.Ya.clear():(this.Ya=new $.Ky(function(){return $.jk()},function(a){a.clear()}),$.K(this,this.Ya),this.Ya.parent(this.Qa),
this.Ya.zIndex(32)),this.Ya.clip(a),this.g=[]);for(b.reset();b.advance();)fR(this)&&b.G("labelWidthForced",void 0),sR(this,this.state.j|$.wu(this.state,b.ua()));yR(this);this.labels().ca();this.labels().ef().clip(a);this.R(4096)}}};
$.g.RD=function(){if(this.zl().enabled()&&0<this.zl().duration())if(this.Ba&&1==this.Ba.Rd)this.Ba.update();else if($.U(this,2048)){$.J(this.Ba);this.Ba=new $.Fy;var a=this.zl().duration(),b=a*(1-.85),a=new eR(this,.85*a),b=new gR(this,b);this.Ba.add(a);this.Ba.add(b);this.Ba.oa("begin",function(){$.Gu(this,!0);$.qq(this,{type:"animationstart",chart:this})},!1,this);this.Ba.oa("end",function(){$.Gu(this,!1);$.qq(this,{type:"animationend",chart:this})},!1,this);this.Ba.Gh(!1)}};
$.g.Gf=function(a){a={type:a.type,target:this,relatedTarget:$.fs(a.relatedTarget)||a.relatedTarget,domTarget:a.target,relatedDomTarget:a.relatedTarget,offsetX:a.offsetX,offsetY:a.offsetY,clientX:a.clientX,clientY:a.clientY,screenX:a.screenX,screenY:a.screenY,button:a.button,keyCode:a.keyCode,charCode:a.charCode,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,platformModifierKey:a.platformModifierKey,state:a.state};var b=$.fo(a.domTarget);a.pointIndex=$.R(b.index);return a};
$.g.dg=function(a){(a=this.qf(a))&&this.dispatchEvent(a)};
$.g.qf=function(a){var b;"pointIndex"in a?b=a.pointIndex:"labelIndex"in a?b=a.labelIndex:"markerIndex"in a&&(b=a.markerIndex);b=$.R(b);a.pointIndex=b;var c=a.type;switch(c){case "mouseout":c="pointmouseout";break;case "mouseover":c="pointmouseover";break;case "mousemove":c="pointmousemove";break;case "mousedown":c="pointmousedown";break;case "mouseup":c="pointmouseup";break;case "click":c="pointclick";break;case "dblclick":c="pointdblclick";break;default:return null}var d=this.data().ja();d.select(b)||
d.reset();return{type:c,actualTarget:a.target,iterator:d,sliceIndex:b,pointIndex:b,target:this,originalEvent:a,point:this.Xd(b)}};$.g.Xd=function(a){var b=new $.rx(this,a),c;this.ja().select(a)&&b.nt()&&!mR(c=b.get("value"))&&(a=c/this.We("sum")*100,b.Da("percentValue",a),b.Da("yPercentOfTotal",a));return b};$.g.Nm=function(){return[]};$.g.Rg=function(a){$.n(a)?this.fg(a):this.hi();return this};
$.g.Qc=function(a){if(($.vu(this.state,$.M)||$.Cu(this.state.Hg(),$.M))&&this.enabled()){var b;$.n(a)?b=a:b=this.state.j==$.om?window.NaN:void 0;this.state.g($.M,b);a=this.ja();for(a.reset();a.advance();)sR(this,$.wu(this.state,a.ua()));yR(this);JR(this)}};
$.g.fg=function(a,b){if(!this.enabled())return this;var c;if($.y(a)){c=$.Au(this.state,$.M);for(var d=0;d<c.length;d++)$.cb(a,c[d])||this.state.g($.M,c[d]);$.yu(this.state,$.M,a);$.n(b)&&this.vC(b);for(c=this.hc();c.advance();)sR(this,$.wu(this.state,c.ua()));yR(this)}else if($.C(a)&&(this.Qc(),$.yu(this.state,$.M,a),$.n(b)&&this.vC(b),this.ib)){for(c=this.hc();c.advance();)sR(this,$.wu(this.state,c.ua()));yR(this,this.labels().Wd(a))}this.ja().select(a[0]||a);return this};
$.g.hi=function(){if(!this.enabled())return this;this.state.U($.M);yR(this,null);return this};$.g.select=function(a){if(!this.enabled())return this;$.n(a)?this.kg(a):this.enabled()&&(JR(this),this.state.U($.nm),yR(this,null));return this};
$.g.kg=function(a,b){if(!this.enabled())return this;var c=!(b&&b.shiftKey);$.y(a)?(b||this.sd(),this.state.U($.nm,a,c?$.M:void 0)):$.C(a)&&this.state.U($.nm,a,c?$.M:void 0);if(this.ib){for(c=this.hc();c.advance();)sR(this,$.wu(this.state,c.ua()));var d;$.C(a)&&(d=this.labels().Wd(a));yR(this,d)}this.ja().select(a[0]||a);return this};
$.g.sd=function(a){if(this.enabled()){var b;$.n(a)?b=a:b=this.state.j==$.om?window.NaN:void 0;this.state.g($.nm,b);a=this.ja();for(a.reset();a.advance();)sR(this,$.wu(this.state,a.ua()));yR(this)}};$.g.fh=function(a){iR(this,a);kR(this,a);this.Uo(a)};$.g.Hi=$.ia;$.g.gh=function(a){sR(this,a);iR(this,a);kR(this,a);this.Uo(a)};var MR={};$.S(MR,0,"baseWidth",$.Hp);$.S(MR,0,"neckHeight",$.Hp);$.S(MR,0,"neckWidth",$.Hp);$.S(MR,0,"pointsPadding",$.Hp);$.S(MR,0,"reversed",$.Hp);$.S(MR,0,"overlapMode",$.Rk);
$.S(MR,0,"connectorLength",$.Hp);$.S(MR,1,"connectorStroke",$.Sp);var NR={};$.S(NR,1,"fill",$.Qp);$.S(NR,1,"hoverFill",$.Qp);$.S(NR,1,"selectFill",$.Qp);$.S(NR,1,"stroke",$.Pp);$.S(NR,1,"hoverStroke",$.Pp);$.S(NR,1,"selectStroke",$.Pp);$.S(NR,1,"hatchFill",$.Rp);$.S(NR,1,"hoverHatchFill",$.Rp);$.S(NR,1,"selectHatchFill",$.Rp);$.Mp(hR,MR);$.Mp(hR,NR);$.g=hR.prototype;$.g.oo=function(a,b,c){a=b.get(a)||this.O(a);$.n(a)&&(a=c(a));return a};
$.g.qn=function(){return $.xc(this.tC().md(this.ja().ua())||"diagonal-brick")};$.g.Nq=function(){var a=this.ja();return{index:a.ua(),sourceHatchFill:this.qn(),iterator:a}};$.g.Dl=function(a){var b=this.ja();return{index:b.ua(),sourceColor:a||this.Oc().md(b.ua())||"blue",iterator:b}};$.g.labels=function(a){this.sa||(this.sa=new $.Ru,$.T(this.sa,this.w3,this),this.sa.$a(this),$.K(this,this.sa),this.D(4096,1));return $.n(a)?(!$.z(a)||"enabled"in a||(a.enabled=!0),this.sa.W(a),this):this.sa};
$.g.Sb=function(a){this.X||(this.X=new $.Ru,$.K(this,this.X));return $.n(a)?(!$.z(a)||"enabled"in a||(a.enabled=!0),this.X.W(a),this):this.X};$.g.dc=function(a){this.fa||(this.fa=new $.Ru,$.K(this,this.fa));return $.n(a)?(!$.z(a)||"enabled"in a||(a.enabled=!0),this.fa.W(a),this):this.fa};$.g.w3=function(a){var b=0,c=0;$.W(a,1)&&(b|=4096,c|=1);$.W(a,8)&&(b|=4100,c|=9);this.D(b,c)};
$.g.Fb=function(a){this.B||(this.B=new $.pv,$.T(this.B,this.y3,this),this.B.$a(this),$.K(this,this.B));return $.n(a)?(!$.z(a)||"enabled"in a||(a.enabled=!0),this.B.W(a),this):this.B};$.g.An=function(a){this.ma||(this.ma=new $.pv,$.K(this,this.ma));return $.n(a)?(!$.z(a)||"enabled"in a||(a.enabled=!0),this.ma.W(a),this):this.ma};$.g.Bn=function(a){this.ra||(this.ra=new $.pv,$.K(this,this.ra));return $.n(a)?(!$.z(a)||"enabled"in a||(a.enabled=!0),this.ra.W(a),this):this.ra};
$.g.y3=function(a){$.W(a,1)&&this.D(8192,1)};
$.g.Uo=function(a){var b=this.ja(),c=!!(a&$.nm);a=!c&&!!(a&$.M);var d=b.get("marker"),e=b.get("hoverMarker"),b=b.get("selectMarker"),f=this.ja().ua(),h;h=c?this.Bn():a?this.An():this.Fb();var k=$.qv(this.Fb(),f),l=d&&$.n(d.enabled)?d.enabled:null,m=e&&$.n(e.enabled)?e.enabled:null,p=b&&$.n(b.enabled)?b.enabled:null;if(a||c?a?null===m?null===this.An().enabled()?null===l?this.Fb().enabled():l:this.An().enabled():m:null===p?null===this.Bn().enabled()?null===l?this.Fb().enabled():l:this.Bn().enabled():
p:null===l?this.Fb().enabled():l){l=d&&d.position?d.position:null;m=e&&e.position?e.position:null;p=b&&b.position?b.position:null;l=a&&(m||this.An().position())||c&&(p||this.Bn().position())||l||this.Fb().position();l=aea(this,l);k?k.qc(l):k=this.Fb().add(l,f);var q={},l="position anchor offsetX offsetY type size fill stroke enabled".split(" ");d&&(0,$.Je)(l,function(a){a in d&&(q[a]=d[a])});l=d&&d.type;f=$.n(l)?l:this.Fb().Ta()||this.uC().md(f);l=e&&e.type;l=$.n(l)?l:this.An().Ta();m=b&&b.type;m=
$.n(m)?m:this.Bn().Ta();q.type=c&&$.n(m)?m:a&&$.n(l)?l:f;f=d&&d.fill;f=$.n(f)?f:this.Fb().K||IR(this);l=e&&e.fill;l=$.n(l)?l:this.An().K;m=b&&b.fill;m=$.n(m)?m:this.Bn().K;q.fill=c&&$.n(m)?m:a&&$.n(l)?l:f;f=d&&d.stroke;f=$.n(f)?f:this.Fb().j||$.dm(IR(this));l=e&&e.stroke;l=$.n(l)?l:this.An().j||$.dm(IR(this));m=b&&b.stroke;m=$.n(m)?m:this.Bn().j||$.dm(IR(this));q.stroke=c&&$.n(m)?m:a&&$.n(l)?l:f;k.jg();$.tv(k,h);k.uc(q,a?e:b);k.ca()}else k&&k.clear()};
$.g.yD=function(){var a=new $.Et(0);$.K(this,a);a.za(this);$.T(a,this.z3,this);return a};$.g.z3=function(){this.Bb().ca()};$.g.vC=function(a){if(!a||a.target!=this.Zd()){var b=this.Bb(),c=qR(this);a&&($.Tt(b,a.clientX,a.clientY,c),this.oa("mousemove",this.vC))}};
$.g.wc=function(){if($.U(this,16384)){this.Ti={};for(var a=this.data().ja(),b,c=0,d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=0;a.advance();)b=a.get("value"),mR(b)?c++:(b=mR(b)?0:$.R(b),d=Math.min(b,d),e=Math.max(b,e),f+=b);var a=a.Db()-c,h;a?h=f/a:d=e=f=h=void 0;this.Da("count",a);this.Da("min",d);this.Da("max",e);this.Da("sum",f);this.Da("average",h);this.R(16384)}};$.g.zh=function(){return qR(this)};
$.g.Zi=function(a,b){for(var c=[],d=this.ja().reset(),e;d.advance();){e=d.ua();var f=d.get("legendItem")||{},h=null;$.D(b)&&(h=qR(this),h.$V=this.Xd(e),h=b.call(h,h));$.B(h)||(h=String($.n(d.get("name"))?d.get("name"):d.get("x")));var k=$.mm(["fill"],1),l=$.mm(["stroke"],2),m=$.mm(["hatchFill"],3),h={enabled:!0,meta:{pointIndex:e,pointValue:d.get("value"),ga:this},iconType:"square",text:h,iconStroke:l(this,$.om,!1),iconFill:k(this,$.om,!1),iconHatchFill:m(this,$.om,!1)};$.Rc(h,f);h.sourceUid=$.sa(this);
h.sourceKey=e;c.push(h)}return c};$.g.Sm=function(){return!0};$.g.Vl=function(a,b){var c=a.If();if(!a||null!=c||(0,window.isNaN)(c))if(c=$.fo(b.domTarget))c.ga=this};$.g.$k=function(a,b){var c=a.If();if(!a||null!=c||(0,window.isNaN)(c))if(c=$.fo(b.domTarget))c.ga=this};$.g.Zk=function(a,b){var c=a.If();if(!a||null!=c||(0,window.isNaN)(c))if(c=$.fo(b.domTarget))c.ga=this};$.g.Ae=function(){return null};$.g.Ic=function(a){return $.n(a)?(a=$.xk(a),a!=this.Ka&&(this.Ka=a),this):this.Ka};$.g.dk=function(){return!this.ja().Db()};
$.g.N=function(){var a=hR.I.N.call(this);a.type=this.Ta();a.data=this.data().N();a.labels=this.labels().N();a.hoverLabels=$.Vu(this.Sb());a.selectLabels=$.Vu(this.dc());null===a.hoverLabels.enabled&&delete a.hoverLabels.enabled;null===a.selectLabels.enabled&&delete a.selectLabels.enabled;a.palette=this.Oc().N();a.hatchFillPalette=this.tC().N();a.markerPalette=this.uC().N();a.tooltip=this.Bb().N();a.markers=this.Fb().N();a.hoverMarkers=this.An().N();a.selectMarkers=this.Bn().N();$.Wp(this,MR,a);$.Wp(this,
NR,a);return{chart:a}};$.g.da=function(a,b){hR.I.da.call(this,a,b);$.Np(this,MR,a);$.Np(this,NR,a);this.data(a.data);this.tC(a.hatchFillPalette);this.uC(a.markerPalette);this.labels().Aa(!!b,a.labels);this.Sb().Aa(!!b,a.hoverLabels);this.dc().Aa(!!b,a.selectLabels);this.Fb().W(a.markers);this.An().W(a.hoverMarkers);this.Bn().W(a.selectMarkers);this.Oc(a.palette);"tooltip"in a&&this.Bb().Aa(!!b,a.tooltip)};$.g.ba=function(){$.J(this.Ba);hR.I.ba.call(this)};
DR.prototype.clear=function(){this.labels.length=0};var OR=hR.prototype;OR.data=OR.data;OR.getType=OR.Ta;OR.palette=OR.Oc;OR.tooltip=OR.Bb;OR.hatchFillPalette=OR.tC;OR.markerPalette=OR.uC;OR.labels=OR.labels;OR.hoverLabels=OR.Sb;OR.selectLabels=OR.dc;OR.markers=OR.Fb;OR.hoverMarkers=OR.An;OR.selectMarkers=OR.Bn;OR.hover=OR.Rg;OR.unhover=OR.Qc;OR.select=OR.select;OR.unselect=OR.sd;OR.getPoint=OR.Xd;$.fp.funnel=KR;$.fp.pyramid=LR;$.F("anychart.funnel",KR);$.F("anychart.pyramid",LR);}).call(this,$)}
if(!_.theme_pyramid_funnel){_.theme_pyramid_funnel=1;(function($){$.xa($.ga.anychart.themes.defaultTheme,{funnel:{title:{text:"Funnel Chart"},neckWidth:"30%",neckHeight:"25%",reversed:!0,labels:{position:"outside-left-in-column"}},pyramid:{title:{text:"Pyramid Chart"},legend:{inverted:!0},labels:{position:"outside-left-in-column"},reversed:!1}});}).call(this,$)}
$_=window.anychart;$_.$=$;$_._=_});