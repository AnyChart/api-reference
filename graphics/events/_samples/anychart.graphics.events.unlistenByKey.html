<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="x-cat-tags" content="line"/>
    <script src="../../../anychart.min.js"></script>
    <script x-export="stage">
        anychart.onDocumentReady(function () {
            var stage = anychart.graphics.create("container");
            var text = stage.text(70, 55, "Click on this TEXT.");
            var smallText = stage.text(70, 75, "You have 3 clicks.");
            text.style({fontStyle: "italic", fontSize: "18px", color: "#00f", hAlign: "middle"});
            var counter = 3;
            var listenerKey;
            function customListener(e){
                counter--;
                smallText.text("You have " + counter + " clicks.");
                if (counter == 0) {
                    anychart.graphics.events.unlistenByKey(listenerKey);
                    text.style({color: "red"});
                    smallText.text("You have no more clicks");
                }
            }
            listenerKey = anychart.graphics.events.listen(text, anychart.graphics.events.EventType.CLICK, customListener);
        });
    </script>
</head>
<body>
<div id="container" style="width: 100%; height: 100%"></div>
</body>
</html>